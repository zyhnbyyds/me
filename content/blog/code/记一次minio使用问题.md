---
title: 记一次minio使用问题
description: "在使用minio，并在生产环境使用https踩坑问题"
image: "minio-use.png"
publishAt: "2025-06-03 19:30:00"
updateAt: "2025-06-03 19:30:00"
tags: ["Nuxt", "minio", "全栈开发", "OSS存储"]
---

## minio简介

minio是一个类似于阿里云对象存储的东西, 它是基于 AGPL-3.0 协议开源的，使用go语言编写，AGPL-3.0协议要求就是个人开源项目可以免费使用，但是商用或者企业使用就会收取费用，
他的使用方法非常的方便，和阿里云的差不多，提供的api也非常的全，各种sdk也都有, go、rust、js等等

## 我的使用场景

我目前是在做一个个人博客的项目，想实现一个相册的功能，用于存储相片和视频，得益于国内云的高昂费用，我选择minio作为我的存储方式，部署在了阿里云的99元 2H2G服务器上面(还算稍微良心)，
部署上去之后内存占用大概达到百分之15，差不多300m，不算特别大，目前我还没有存储什么东西。

## 遇到的问题

刚开始的时候，我本地开发都是用的ip和端口直连，但是在部署到域名上面之后，控制台会报错，说在https下面使用minio必须使用https的调用方式，所以我开始为minio开启https的艰难之路，首先我
咨询了我的万能师傅gpt，他让我直接通过nginx配置转发，我按照配了之后，发现控制台连接报错，说什么TLS连接异常😕，我就开始查官方的文档，官方文档的话，提供的方法是配置对应端口的https，
大概流程就是提供域名证书给minio，他会自动加载证书，解析成https，但是我配了一圈之后，发现控制台还是报TLS连接异常，然后就是一边一边的尝试，拷打了gpt一上午，我从来没想过会是本地的问题，
本地是localhost的🐎，所以连接https会不通..., 我通过云效重新部署了之后可以了，这也太抽象了，gtp和官网没有任何提示，说http不能调用https..., 记录问题不再发生
